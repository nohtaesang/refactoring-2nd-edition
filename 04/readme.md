### 135page

- 테스트를 작성하기 가장 좋은 시점은 프로그래밍을 시작하기 전이다.
  나는 기능을 추가해야 할 때 테트터 작성한다.
  얼핏 순서가 뒤바뀐 듯 들리지만, 전혀 그렇지 않다.
  테스트를 작성하다 보면 원하는 기능을 추가하기 위해 무엇이 필요한지 고민하게 된다.
  구현보다 인터페이스에 집중하게 된다는 장점도 있다.
  (무조건 좋은 일이다.)
  게다가 코딩이 완료되는 시점을 정확하게 판단할 수 있다.
  테스트를 모두 통과한 시점이 바로 코드를 완성한 시점이다.

- TDD에서는 테스트를 작성하고, 이 테스트를 통과하게끔 코드를 작성하고, 결과 코드를 최대한 깔끔하게 리팩터링하는 과정을 짧은 주기로 반복한다.
  이러한 테스트-코딩-리팩터링 과정을 한 시간에도 여러 차례 진행하기 때문에 코드를 대단히 생산적이면서도 차분하게 작성할 수 있다.

- 리팩터링에는 테스트가 필요하다.
  그러니 리팩터링하고 싶다면 테스트를 반드시 작성해야 한다.

### 143page

- 테스트는 위험 요인을 중심으로 작성해야 한다.
  테스트의 목적은 어디까지나 현재 혹은 향후에 발생하는 버그를 찾는 데 있다.
  따라서 단순히 필드를 읽고 쓰기만 하는 접근자는 테스트할 필요가 없다.

- 테스트를 너무 많이 만들다 보면 오히려 필요한 테스트를 놓치기 쉽기 때문에 아주 중요한 포인트다,
  나는 적은 수의 테스트만으로 큰 효과를 얻고 있다.
  잘못될까봐 가장 걱정되는 영역을 집중적으로 테스트하는데, 이렇게 해서 테스트에 쏟는 노력의 효과를 극대화하는 것이다.

- 완벽하게 만드느라 테스트를 수행하지 못하느니, 불완전한 테스트라도 작성해 실행하는 게 낫다.

### 144page

- 테스트 관련 버그 중 ㄱ장 지저분한 유형인 '테스트끼리 상호작용하게 하는 공유 픽스쳐'를 생성하는 원인이 된다.
  자바스크립트에서 const 키워드는 asia 객체의 내용이 아니라 asia를 가리키는 참조가 상수임을 뜻한다.

### 145page

- 테스트마다 beforeEach 구문이 실행된다면 그 안의 코드를 각각의 it 블록에 넣으면 되지 않냐고 물을 수 있다.
  나는 내 테스트들이 모두 똑같은 픽스처에 기초하여 검증을 수행하기를 바란다.
  그래야 표준 픽스처에 익숙해져서 테스트할 속성을 다양하게 찾아낼 수 있기 때문이다.
  beforeEach 블록의 등장은 내가 표준 픽스처를 사용한다는 사실을 알려준다.
  그러면 코드를 읽는 이들은 해당 describe 블록 안의 모든 테스트가 똑같은 기준 데이터로부터 시작한다는 사실을 쉽게 알 수 있다.

### 146page

- 일반적으로 it 구문 하나당 검증도 하나씩만 하는 게 좋다.
  앞쪽 검증을 통과하지 못하면 나머지 검증은 실행해보지 못하고 테스트가 실패하게 되는데, 그러면 실패 원인을 파악하는 데 유용한 정보를 놓치기 쉽기 때문이다.

### 150page

- 그렇다면 테스트를 어느 수준까지 해야 할까?
  아무리 테스트해도 버그 없는 완벽한 프로그램을 만들 수 없다는 말은 많이 들어봤을 것이다.
  맞는 말이지만, 테스트가 프로그래밍 속도를 높여준다는 사실에는 변함이 없다.
  그동안 나는 프로그램에서 발생할 수 있는 모든 경우를 테스트하기 위한 다양한 기법을 봐왔다.
  이런 기법이 도움이 되는 것은 분명하지만, 너무 빠져들 필요는 없다.
  테스트에도 수확 체감 법칙이 적용된다.
  또, 테스트를 너무 많이 작성하다 보면 오히려 의욕이 떨어져 나중에는 하나도 작성하지 않게 될 위험도 있다.
  따라서 위험한 부분에 집중하는 게 좋다.
  코드에서 처리 과정이 복잡한 부분을 찾아보자.
  함수에서 오류가 생길만한 부분을 찾아보자.
  테스트가 모든 버그를 걸러주지는 못할지라도, 안심하고 리팩터링할 수 있는 보호막은 되어준다.
  그리고 리팩터링을 하면서 프로그램을 더욱 깊이 이해하게되어 더 많은 버그를 찾게 된다.
  나는 항상 테스트 스위트부터 갖춘 뒤에 리팩터링하지만, 리팩터링하는 동안에도 계속해서 테스트를 추가한다.
